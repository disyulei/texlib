%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%										%%%%%
%%%%%				~WARNING~				%%%%%
%%%%%										%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Please note that including the option [usenames,dvipsnames] 
% is MANDATORY when declaring the document class due to
% compatibility issues between the packaged tikz and xcolor.
% So, to use this theme, you MUST write
% \documentclass[usenames,dvipsnames]{beamer}
% as first command of your main presentation file.

\mode<presentation>

% comment/uncomment this line to enable/disable debug mode
%\newcommand*{\DEBUG}{}

% Requirement
\RequirePackage{xcolor}	% colors
\RequirePackage{tikz}	% drawing 
\RequirePackage{soul} 	% text highlighting

% in debug mode, show the boxes around the text
\ifdefined\DEBUG
\usepackage[absolute,overlay,showboxes]{textpos}
\else
\usepackage[absolute,overlay]{textpos}
\fi

% Settings
\usepackage{sty-cuda/color}
\usepackage{sty-cuda/font}
\usepackage{sty-cuda/inner}
\usepackage{sty-cuda/outer}

% Remove navigation symbols
\setbeamertemplate{navigation symbols}{}
% Squared blocks
\setbeamertemplate{blocks}[rounded=false] 

% Table of contents (outline) styling
\setbeamertemplate{section in toc}[ball numbered]
\setbeamertemplate{subsection in toc}[subsections numbered]

% Bibliography styling
\setbeamertemplate{bibliography item}[text]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%										%%%%%
%%%%%			~BONUS COMMANDS~			%%%%%
%%%%%										%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% See the provided main.tex template for a tutorial
% on how to use \framecard and \framepic.

%%%%%										%%%%%
%%%%%	~Frame with huge centered text~		%%%%%
%%%%%										%%%%%
\newcommand{\framecard}[2][CUHKdark]{
    {\setbeamercolor{background canvas}{bg=#1}%
      \begin{frame}[plain]%
        \vfill%
        \begin{center}%
          {\color{white}\Huge\textbf{%
            {#2}%
          }}%
        \end{center}%
        \vfill%
      \end{frame}%
  }
}

%%%%%										%%%%%
%%%%%	~Frame with background image~		%%%%%
%%%%%										%%%%%
\newcommand{\framepic}[3][1]{
  {
    \usebackgroundtemplate{%
    \tikz[overlay,remember picture] \node[opacity=#1, at=(current page.center)] {
      \includegraphics[height=\paperheight,width=\paperwidth]{#2}};
    }
    \begin{frame}[plain]
      \huge{#3}
    \end{frame}
  }
}

%%%%%										%%%%%
%%%%%	~Marker for text highlighting ~		%%%%%
%%%%%										%%%%%

% beamer/soul compatibility fix
\makeatletter
\newcommand\SoulColor{%
  \let\set@color\beamerorig@set@color
  \let\reset@color\beamerorig@reset@color}
\makeatother

\newcommand{\marker}[2][CUHKorange]{{\SoulColor\sethlcolor{#1}\hl{#2}}}

\mode<all>
